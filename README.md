# dbproject
We have deployed our code and have a live website. It can be accessed at: http://veshei.pythonanywhere.com/  In order to create/update/delete an event, you have to click the lock in the top right corner. This will bring you to a login page and underneath there is a register link for all new users to create their own username and password. After creating a user profile for yourself, you will be directed to the login page. Login with the new credentials you just made and you will be able to view the list of events for the overall community and for each specific organization. After logging in, you can create events and update/delete events associated with your organization. The “PAAC List of Events” link brings up all of the future events. We do this by filtering all the events in the database to make sure only present/future events are shown and then we order the events by start time. For the list of events for each individual organization, we apply the same filtering concept with an extra filter that filters by organization so only the organization’s individual events show up. In addition, we only allow users to edit/delete events that are associated with their organization. Admin users are allowed to edit/delete any event. 

In order to run the zip file with our code, the user first needs to go into their terminal and change directories into the dbproject folder with our code. Once they are in this directory, they need to run the virtual environment with the command “source dbvenv/bin/activate” (dbvenv is the name of our virtual environment in the zip file. If the virtual environment does not exist, then the user needs to create the virtual environment. That is done by doing “python -m venv myvenv” (myvenv represents whatever name you want to give to your virtual environment). After that, running the virtual environment is as simple as  “source dbvenv/bin/activate”. After you are in your virtual environment, you need to install django and mysql. Firstly, make sure that pip is up to date with the command “pip install --upgrade pip”. Then do “pip install django”. After that command, do “pip install mysqlclient”, because we are not using the default database of sqlite3 but instead are using the full mysql version. If you run into issues with the database connection, you need to go into the settings.py file in the aa_calendar folder and update the “DATABASES” portion to connect to your local database (if you are accessing the website through our live online website, you do not need to worry about this). If all else fails, you can switch back to the default sqlite3 database and everything should still work. This will require you to put the db.sqlite3 file into the project folder. You will also have to change the aa_calendar settings.py “DATABASES” section to:
DATABASES = {
  'default': {
   					'ENGINE': 'django.db.backends.sqlite3',
        					'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),
 				   }
}

Afterwards, you need to load the db.json file (that we uploaded as the export of our backend in the backend upload) into the database. First move the db.json file into the dbproject folder. Then in the terminal run “python manage.py loaddata db.json”. This command should load our dummy data into the database, which will be reflected when you run the server. 
After you load the data in, you need to create a superuser to be able to access all parts of the website and to access the admin page. So open a new tab in your terminal (not the tab that is running the server) and type “python manage.py createsuperuser”. This should come up with 3 prompts asking for your username, email address, and password (it will ask for your password twice as a verification method). Once you create the superuser successfully, you can use those credentials to log into the admin page. In the admin page, it provides another check that all the data in the database is being updated, along with the views being propagated to the main website. 

Once you have all the settings configured, you can run the server on your local host network. Do “pwd” to make sure you are still in the dbproject folder (the folder with the manage.py file in it). Then do “python manage.py runserver”, which will run the server and setup the connection. In your web browser, input the url: “http://127.0.0.1:8000” to go to the website. The local host website should look the same as the live website. If you wish to access the admin site, you can type “http://127.0.0.1:8000/admin”. From the website, you can create different users for different organizations in the login page by registering new users. Each of the users can only create, edit, and delete events for their respective organization. You can only create, edit, and delete all the events if you are a superuser, which our code checks for. 
